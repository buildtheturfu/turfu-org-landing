---
phase: 01-horizontal-overflow
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/[locale]/content/layout.tsx
  - src/components/content/ContentSidebar.tsx
  - src/app/[locale]/content/page.tsx
  - src/app/[locale]/content/[slug]/page.tsx
autonomous: true

must_haves:
  truths:
    - "User can view /content pages on mobile without horizontal scrollbar appearing"
    - "User can horizontally scroll within code blocks to see long lines"
    - "User sees images constrained to screen width without breaking layout"
  artifacts:
    - path: "src/app/[locale]/content/layout.tsx"
      provides: "overflow-x-hidden on flex container"
      contains: "overflow-x-hidden"
    - path: "src/components/content/ContentSidebar.tsx"
      provides: "Sidebar hidden on mobile"
      contains: "hidden md:flex"
    - path: "src/app/[locale]/content/page.tsx"
      provides: "Responsive padding"
      contains: "p-4 md:p-8"
    - path: "src/app/[locale]/content/[slug]/page.tsx"
      provides: "Responsive padding"
      contains: "p-4 md:p-8"
  key_links:
    - from: "layout.tsx"
      to: "ContentSidebar.tsx"
      via: "sidebar visibility controlled by Tailwind responsive classes"
      pattern: "hidden md:flex"
---

<objective>
Fix horizontal overflow issues on mobile devices for /content documentation pages.

Purpose: Users currently experience horizontal scrolling on mobile, making the documentation unusable. This plan applies CSS fixes to constrain content within viewport boundaries.

Output: Four files modified with Tailwind class additions. Mobile users will have a usable /content experience with no horizontal overflow.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/app/[locale]/content/layout.tsx
@src/components/content/ContentSidebar.tsx
@src/app/[locale]/content/page.tsx
@src/app/[locale]/content/[slug]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add overflow-x-hidden to layout and hide sidebar on mobile</name>
  <files>
    src/app/[locale]/content/layout.tsx
    src/components/content/ContentSidebar.tsx
  </files>
  <action>
    In layout.tsx line 19, add `overflow-x-hidden` to the flex container:
    - Change: `<div className="flex min-h-screen pt-16 bg-turfu-dark">`
    - To: `<div className="flex min-h-screen pt-16 bg-turfu-dark overflow-x-hidden">`

    In ContentSidebar.tsx line 88, add responsive hiding:
    - Change: `<aside className="w-72 border-r border-white/10 bg-turfu-darker/50 h-[calc(100vh-64px)] sticky top-16 flex flex-col">`
    - To: `<aside className="hidden md:flex md:flex-col w-72 border-r border-white/10 bg-turfu-darker/50 h-[calc(100vh-64px)] sticky top-16">`

    Note: We change `flex flex-col` to `md:flex md:flex-col` to maintain flexbox behavior on desktop while hiding on mobile.
  </action>
  <verify>
    Run `npm run build` to verify no syntax errors.
    Check that the classes appear in the modified files using grep.
  </verify>
  <done>
    layout.tsx contains `overflow-x-hidden` class.
    ContentSidebar.tsx contains `hidden md:flex md:flex-col` classes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Apply responsive padding to content pages</name>
  <files>
    src/app/[locale]/content/page.tsx
    src/app/[locale]/content/[slug]/page.tsx
  </files>
  <action>
    In page.tsx line 60, change padding to be responsive:
    - Change: `<main className="flex-1 p-8 max-w-4xl">`
    - To: `<main className="flex-1 p-4 md:p-8 max-w-4xl">`

    In [slug]/page.tsx line 40, change article padding to be responsive:
    - Change: `<article className="flex-1 p-8 max-w-3xl">`
    - To: `<article className="flex-1 p-4 md:p-8 max-w-3xl">`

    This reduces padding on mobile (p-4 = 1rem) while keeping desktop padding (p-8 = 2rem).
  </action>
  <verify>
    Run `npm run build` to verify no syntax errors.
    Check that responsive padding classes appear in both files.
  </verify>
  <done>
    page.tsx contains `p-4 md:p-8` on the main element.
    [slug]/page.tsx contains `p-4 md:p-8` on the article element.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Mobile overflow fixes applied to 4 files</what-built>
  <how-to-verify>
    1. Start dev server: `npm run dev`
    2. Open http://localhost:3000/fr/content in browser
    3. Open browser DevTools and toggle device toolbar (Ctrl+Shift+M or Cmd+Shift+M)
    4. Select a mobile device (e.g., iPhone SE or similar ~375px width)
    5. Verify:
       - No horizontal scrollbar appears on the page
       - Sidebar is NOT visible (will be accessible via hamburger in Phase 2)
       - Content has appropriate padding (not cramped against edges)
    6. Navigate to an article page (click any article)
    7. Verify:
       - No horizontal scrollbar on article page
       - Code blocks (if any) have their own horizontal scroll
       - Images stay within viewport
       - Article content is readable
  </how-to-verify>
  <resume-signal>Type "approved" to complete phase, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` passes without errors
2. No horizontal overflow on mobile viewports (375px width)
3. Sidebar hidden on mobile (below md breakpoint = 768px)
4. Code blocks within articles can scroll horizontally independently
5. Images constrained to container width
</verification>

<success_criteria>
- All 4 files modified with correct Tailwind classes
- Build passes
- Mobile viewport shows no horizontal scrollbar on /content pages
- User confirms visual verification passes
</success_criteria>

<output>
After completion, create `.planning/phases/01-horizontal-overflow/01-01-SUMMARY.md`
</output>
