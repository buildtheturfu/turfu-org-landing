---
phase: 04.1-light-mode-color-fixes
plan: 02
type: execute
wave: 2
depends_on: ["04.1-01"]
files_modified:
  - src/components/Navbar.tsx
  - src/components/Footer.tsx
  - src/components/ThemeToggle.tsx
  - src/components/BackToTop.tsx
autonomous: true

must_haves:
  truths:
    - "Navbar text and borders visible in both light and dark modes"
    - "Footer links readable with proper hover states in both modes"
    - "ThemeToggle background visible against both light and dark backgrounds"
    - "BackToTop focus ring visible in both modes"
  artifacts:
    - path: "src/components/Navbar.tsx"
      provides: "Theme-aware navigation bar"
      contains: "text-foreground"
    - path: "src/components/Footer.tsx"
      provides: "Theme-aware footer"
      contains: "text-foreground"
    - path: "src/components/ThemeToggle.tsx"
      provides: "Theme-aware toggle button"
      contains: "bg-overlay"
    - path: "src/components/BackToTop.tsx"
      provides: "Theme-aware back-to-top button"
      contains: "ring-offset-[var(--background)]"
  key_links:
    - from: "Navbar.tsx"
      to: "globals.css"
      via: "semantic color classes"
      pattern: "(text-foreground|bg-surface|border-border)"
---

<objective>
Replace hardcoded dark-mode colors in layout components (Navbar, Footer, ThemeToggle, BackToTop).

Purpose: These are the highest-visibility components - they appear on every page. Fixing them ensures the site is usable in light mode.
Output: Four layout components using semantic color tokens that work in both themes.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04.1-light-mode-color-fixes/04.1-RESEARCH.md
@src/components/Navbar.tsx
@src/components/Footer.tsx
@src/components/ThemeToggle.tsx
@src/components/BackToTop.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Navbar and Footer components</name>
  <files>src/components/Navbar.tsx, src/components/Footer.tsx</files>
  <action>
**Navbar.tsx replacements:**
- `bg-turfu-dark/80` → `bg-surface/80`
- `border-white/5` → `border-border-muted`
- `text-white` → `text-foreground`
- `text-turfu-muted` → `text-foreground-muted`
- `hover:text-white` → `hover:text-foreground`
- Any `bg-white/5` → `bg-overlay`
- Any `bg-white/10` → `bg-overlay-hover`

**Footer.tsx replacements:**
- `border-white/10` or `border-white/5` → `border-border` or `border-border-muted`
- `text-turfu-muted` → `text-foreground-muted`
- `hover:text-white` → `hover:text-foreground`
- `text-white` → `text-foreground`
- `bg-turfu-dark` or `bg-turfu-darker` → `bg-surface` or `bg-surface-muted`

IMPORTANT: Keep gradient button text as `text-white` - gradient backgrounds need consistent contrast.
  </action>
  <verify>
Run `grep -E "text-white|bg-turfu-dark|border-white" src/components/Navbar.tsx src/components/Footer.tsx` - should return minimal/no results (only in gradient contexts).
Run `grep -E "text-foreground|bg-surface|border-border" src/components/Navbar.tsx src/components/Footer.tsx` - should find multiple matches.
  </verify>
  <done>
- Navbar uses text-foreground, bg-surface, border-border classes
- Footer uses text-foreground, border-border classes
- Both components readable in light mode
  </done>
</task>

<task type="auto">
  <name>Task 2: Update ThemeToggle and BackToTop components</name>
  <files>src/components/ThemeToggle.tsx, src/components/BackToTop.tsx</files>
  <action>
**ThemeToggle.tsx replacements:**
- `bg-white/10` → `bg-overlay-hover`
- `hover:bg-white/20` → `hover:bg-overlay` (or a slightly stronger variant)
- `text-white` → `text-foreground`
- `ring-offset-turfu-dark` → `ring-offset-[var(--background)]`

**BackToTop.tsx replacements:**
- `ring-offset-turfu-dark` → `ring-offset-[var(--background)]`
- `bg-white/10` → `bg-overlay-hover`
- `text-white` → `text-foreground`
- Any other hardcoded white/dark references

Check both files use the same consistent pattern for focus ring offsets.
  </action>
  <verify>
Run `grep -E "turfu-dark|text-white|bg-white" src/components/ThemeToggle.tsx src/components/BackToTop.tsx` - should return no results.
Run `grep "var(--background)" src/components/ThemeToggle.tsx src/components/BackToTop.tsx` - should find ring-offset patterns.
  </verify>
  <done>
- ThemeToggle visible on both light and dark backgrounds
- BackToTop focus ring matches background color
- No hardcoded white/dark colors in either component
  </done>
</task>

</tasks>

<verification>
After both tasks:
1. `npm run build` succeeds
2. No hardcoded text-white, bg-turfu-dark, border-white in modified files (except gradient buttons)
3. Semantic classes (text-foreground, bg-surface, border-border) present throughout
</verification>

<success_criteria>
- Navbar, Footer, ThemeToggle, BackToTop all use semantic color tokens
- All components visually correct in both light and dark modes
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/04.1-light-mode-color-fixes/04.1-02-SUMMARY.md`
</output>
