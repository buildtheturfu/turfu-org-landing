---
phase: 04.1-light-mode-color-fixes
plan: 04
type: execute
wave: 2
depends_on: ["04.1-01"]
files_modified:
  - src/components/content/ContentSidebar.tsx
  - src/components/content/MobileSidebarDrawer.tsx
  - src/components/content/ArticleCard.tsx
  - src/components/content/TableOfContents.tsx
  - src/components/content/MarkdownRenderer.tsx
  - src/app/[locale]/content/page.tsx
  - src/app/[locale]/content/[slug]/page.tsx
  - src/app/[locale]/content/layout.tsx
  - src/app/[locale]/content/[slug]/loading.tsx
  - src/app/[locale]/content/loading.tsx
autonomous: true

must_haves:
  truths:
    - "Content sidebar navigation readable in light mode"
    - "Mobile drawer has visible background and borders in both modes"
    - "Article cards have visible surfaces and text in light mode"
    - "Table of contents links readable with proper hover states"
    - "Markdown content (prose) readable in light mode"
  artifacts:
    - path: "src/components/content/ContentSidebar.tsx"
      provides: "Theme-aware sidebar navigation"
      contains: "text-foreground"
    - path: "src/components/content/MarkdownRenderer.tsx"
      provides: "Theme-aware markdown styling"
      contains: "text-foreground"
    - path: "src/app/[locale]/content/layout.tsx"
      provides: "Theme-aware content layout"
      contains: "bg-surface"
  key_links:
    - from: "content/*.tsx"
      to: "globals.css"
      via: "semantic color classes"
      pattern: "(text-foreground|bg-surface|border-border)"
---

<objective>
Replace hardcoded dark-mode colors in the content/documentation module (10 files).

Purpose: The content module is the core documentation system. Users browsing documentation in light mode must be able to read all content, navigate the sidebar, and see article cards.
Output: Complete content system using semantic color tokens.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04.1-light-mode-color-fixes/04.1-RESEARCH.md
@src/components/content/ContentSidebar.tsx
@src/components/content/MobileSidebarDrawer.tsx
@src/components/content/ArticleCard.tsx
@src/components/content/TableOfContents.tsx
@src/components/content/MarkdownRenderer.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update content components (Sidebar, Drawer, ArticleCard, TOC)</name>
  <files>src/components/content/ContentSidebar.tsx, src/components/content/MobileSidebarDrawer.tsx, src/components/content/ArticleCard.tsx, src/components/content/TableOfContents.tsx</files>
  <action>
**ContentSidebar.tsx:**
- `bg-turfu-darker` → `bg-surface-muted`
- `border-white/10` → `border-border`
- `text-white` → `text-foreground`
- `text-turfu-muted` → `text-foreground-muted`
- `hover:text-white` → `hover:text-foreground`
- `hover:bg-white/5` → `hover:bg-overlay`

**MobileSidebarDrawer.tsx:**
- Same pattern as ContentSidebar
- `bg-turfu-dark` → `bg-surface`
- Backdrop colors may stay dark (they dim the content)

**ArticleCard.tsx:**
- `bg-white/5` → `bg-overlay`
- `border-white/10` → `border-border`
- `text-white` → `text-foreground`
- `text-turfu-muted` → `text-foreground-muted`
- `hover:bg-white/10` → `hover:bg-overlay-hover`

**TableOfContents.tsx:**
- `text-turfu-muted` → `text-foreground-muted`
- `hover:text-white` → `hover:text-foreground`
- `border-white/10` → `border-border`
- Active state colors should use semantic tokens
  </action>
  <verify>
Run `grep -E "text-white|bg-white/|border-white|turfu-dark" src/components/content/ContentSidebar.tsx src/components/content/MobileSidebarDrawer.tsx src/components/content/ArticleCard.tsx src/components/content/TableOfContents.tsx` - should return no results.
  </verify>
  <done>
- Sidebar navigation readable in light mode
- Mobile drawer visible with proper contrast
- Article cards have visible backgrounds and text
- TOC links readable with proper hover states
  </done>
</task>

<task type="auto">
  <name>Task 2: Update MarkdownRenderer and content pages/layouts</name>
  <files>src/components/content/MarkdownRenderer.tsx, src/app/[locale]/content/page.tsx, src/app/[locale]/content/[slug]/page.tsx, src/app/[locale]/content/layout.tsx, src/app/[locale]/content/[slug]/loading.tsx, src/app/[locale]/content/loading.tsx</files>
  <action>
**MarkdownRenderer.tsx:**
- `text-white` → `text-foreground`
- Prose text colors should use foreground
- Code block backgrounds may need `bg-surface-muted`
- Link colors can stay accent-colored (turfu-accent) as they have good contrast
- `border-white/10` → `border-border`

**content/page.tsx (article list):**
- `text-white` → `text-foreground`
- `bg-white/5` → `bg-overlay`
- Page title and description colors

**content/[slug]/page.tsx (article detail):**
- `text-white` → `text-foreground`
- `border-white/10` → `border-border`
- Breadcrumb and metadata colors

**content/layout.tsx:**
- `bg-turfu-dark` → `bg-surface`
- Any border or text colors

**loading.tsx files (both):**
- Skeleton animations: `bg-white/5` → `bg-overlay`
- Loading pulse animations should be visible in light mode
- Check animate-pulse works with new colors
  </action>
  <verify>
Run `grep -E "text-white|bg-white/|border-white|turfu-dark" src/components/content/MarkdownRenderer.tsx src/app/[locale]/content/page.tsx src/app/[locale]/content/[slug]/page.tsx src/app/[locale]/content/layout.tsx` - should return no results.
Run `grep -E "bg-overlay" src/app/[locale]/content/loading.tsx src/app/[locale]/content/[slug]/loading.tsx` - should find skeleton styles.
  </verify>
  <done>
- MarkdownRenderer prose readable in light mode
- Content list page readable
- Article detail page readable
- Loading skeletons visible in light mode
  </done>
</task>

</tasks>

<verification>
After both tasks:
1. `npm run build` succeeds
2. Navigate to /content in light mode - page readable
3. All 10 content-related files use semantic tokens
</verification>

<success_criteria>
- Complete content/documentation module works in light mode
- Sidebar, drawer, cards, TOC all visible and readable
- Markdown prose content renders correctly
- Loading states visible in light mode
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/04.1-light-mode-color-fixes/04.1-04-SUMMARY.md`
</output>
